{"remainingRequest":"/Users/tiannaalinalopes/projects/wine-educator/node_modules/babel-loader/lib/index.js!/Users/tiannaalinalopes/projects/wine-educator/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/tiannaalinalopes/projects/wine-educator/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/tiannaalinalopes/projects/wine-educator/src/components/MapComponent.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tiannaalinalopes/projects/wine-educator/src/components/MapComponent.vue","mtime":1734479668858},{"path":"/Users/tiannaalinalopes/projects/wine-educator/babel.config.js","mtime":1734451143335},{"path":"/Users/tiannaalinalopes/projects/wine-educator/node_modules/cache-loader/dist/cjs.js","mtime":1734451268225},{"path":"/Users/tiannaalinalopes/projects/wine-educator/node_modules/babel-loader/lib/index.js","mtime":1734451268173},{"path":"/Users/tiannaalinalopes/projects/wine-educator/node_modules/cache-loader/dist/cjs.js","mtime":1734451268225},{"path":"/Users/tiannaalinalopes/projects/wine-educator/node_modules/vue-loader-v16/dist/index.js","mtime":1734451274975}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5tYXAuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1hcENvbXBvbmVudCIsCiAgcHJvcHM6IHsKICAgIGdldEVudHJpZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWFwRGF0YTogd2luZG93LnNpbXBsZW1hcHNfd29ybGRtYXBfbWFwZGF0YQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvKgogICAgICogQ29tcHV0ZWQgdG8gY2FsbCB0aGUgZ2xvYmFsIHNpbXBsZW1hcCBzY3JpcHRzIGluIGluZGV4Lmh0bWwKICAgICAqLwogICAgc2ltcGxlbWFwc190eXBlKCkgewogICAgICByZXR1cm4gd2luZG93LnNpbXBsZW1hcHNfd29ybGRtYXA7CiAgICB9LAogICAgZmlsdGVyZWRSZWdpb25zKCkgewogICAgICBsZXQgcmVnaW9uTWFwID0gdGhpcy5zaW1wbGVtYXBzX3R5cGU7CiAgICAgIE9iamVjdC5lbnRyaWVzKHJlZ2lvbk1hcC5tYXBkYXRhLnN0YXRlX3NwZWNpZmljKS5mb3JFYWNoKHZhbCA9PiB7CiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRSZWdpb25JZHMuaW5jbHVkZXModmFsWzBdKSkgewogICAgICAgICAgdmFsWzFdLmNvbG9yID0gIiMwZDZlZmQiOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdmFsOwogICAgICB9KTsKICAgICAgcmV0dXJuIHJlZ2lvbk1hcDsKICAgIH0sCiAgICBzZWxlY3RlZFJlZ2lvbklkcygpIHsKICAgICAgLy8gQ2hlY2sgZm9yIHZhbGlkIGdldEVudHJpZXMgYW5kIG1hcCB0aHJvdWdoIGl0CiAgICAgIHJldHVybiB0aGlzLmdldEVudHJpZXMubWFwKGVudHJ5ID0+IHsKICAgICAgICB2YXIgX2VudHJ5JHNlbGVjdGVkUmVnaW9uOwogICAgICAgIHJldHVybiBlbnRyeSA9PT0gbnVsbCB8fCBlbnRyeSA9PT0gdm9pZCAwIHx8IChfZW50cnkkc2VsZWN0ZWRSZWdpb24gPSBlbnRyeS5zZWxlY3RlZFJlZ2lvbikgPT09IG51bGwgfHwgX2VudHJ5JHNlbGVjdGVkUmVnaW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZW50cnkkc2VsZWN0ZWRSZWdpb24uaWQ7CiAgICAgIH0pLmZpbHRlcihpZCA9PiBpZCAhPT0gbnVsbCAmJiBpZCAhPT0gdW5kZWZpbmVkKTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMkc2ltcGxlbWFwc190eXBlOwogICAgaWYgKChfdGhpcyRzaW1wbGVtYXBzX3R5cGUgPSB0aGlzLnNpbXBsZW1hcHNfdHlwZSkgIT09IG51bGwgJiYgX3RoaXMkc2ltcGxlbWFwc190eXBlICE9PSB2b2lkIDAgJiYgX3RoaXMkc2ltcGxlbWFwc190eXBlLmxvYWQpIHsKICAgICAgdGhpcy5maWx0ZXJlZFJlZ2lvbnMubG9hZCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlUmVnaW9uQ2xpY2soZXZlbnQpIHsKICAgICAgLy8gRGV0ZWN0IHJlZ2lvbiBJRCBkeW5hbWljYWxseQogICAgICBjb25zdCByZWdpb25JZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnN0YXRlIHx8IG51bGw7CiAgICAgIGlmIChyZWdpb25JZCkgewogICAgICAgIHZhciBfdGhpcyRtYXBEYXRhJHN0YXRlX3M7CiAgICAgICAgY29uc3QgcmVnaW9uTmFtZSA9ICgoX3RoaXMkbWFwRGF0YSRzdGF0ZV9zID0gdGhpcy5tYXBEYXRhLnN0YXRlX3NwZWNpZmljW3JlZ2lvbklkXSkgPT09IG51bGwgfHwgX3RoaXMkbWFwRGF0YSRzdGF0ZV9zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtYXBEYXRhJHN0YXRlX3MubmFtZSkgfHwgIiI7CiAgICAgICAgdGhpcy4kZW1pdCgicmVnaW9uLWNsaWNrZWQiLCByZWdpb25OYW1lKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["name","props","getEntries","type","Array","default","data","mapData","window","simplemaps_worldmap_mapdata","computed","simplemaps_type","simplemaps_worldmap","filteredRegions","regionMap","Object","entries","mapdata","state_specific","forEach","val","selectedRegionIds","includes","color","map","entry","_entry$selectedRegion","selectedRegion","id","filter","undefined","mounted","_this$simplemaps_type","load","methods","handleRegionClick","event","regionId","target","dataset","state","_this$mapData$state_s","regionName","$emit"],"sources":["/Users/tiannaalinalopes/projects/wine-educator/src/components/MapComponent.vue"],"sourcesContent":["<template>\n  <div class=\"card shadow-sm\">\n    <div class=\"card-body\">\n      <div id=\"map\" @click=\"handleRegionClick\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"MapComponent\",\n  props: {\n    getEntries: {\n      type: Array,\n      default: () => [], \n    },\n  },\n  data() {\n    return {\n      mapData: window.simplemaps_worldmap_mapdata,\n    };\n  },computed: {\n    /*\n     * Computed to call the global simplemap scripts in index.html\n     */\n    simplemaps_type() {\n      return window.simplemaps_worldmap;\n    },\n    filteredRegions() {\n      let regionMap = this.simplemaps_type;\n      Object.entries(regionMap.mapdata.state_specific).forEach((val)=> {\n        if (this.selectedRegionIds.includes(val[0])) {\n          val[1].color = \"#0d6efd\";\n        }\n        return val;\n      });\n      return regionMap;\n    },\n    selectedRegionIds() {\n      // Check for valid getEntries and map through it\n      return this.getEntries\n        .map((entry) => entry?.selectedRegion?.id)\n        .filter((id) => id !== null && id !== undefined);\n    },\n },\n  mounted() {\n   if (this.simplemaps_type?.load) {\n      this.filteredRegions.load();\n   }\n  },\n  methods: {\n    handleRegionClick(event) {\n      // Detect region ID dynamically\n      const regionId = event.target.dataset.state || null;\n      if (regionId) {\n        const regionName = this.mapData.state_specific[regionId]?.name || \"\";\n        this.$emit(\"region-clicked\", regionName);\n      }\n    },\n  },\n};\n</script>\n"],"mappings":";;;;AASA,eAAe;EACbA,IAAI,EAAE,cAAc;EACpBC,KAAK,EAAE;IACLC,UAAU,EAAE;MACVC,IAAI,EAAEC,KAAK;MACXC,OAAO,EAAEA,CAAA,KAAM;IACjB;EACF,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAEC,MAAM,CAACC;IAClB,CAAC;EACH,CAAC;EAACC,QAAQ,EAAE;IACV;;;IAGAC,eAAeA,CAAA,EAAG;MAChB,OAAOH,MAAM,CAACI,mBAAmB;IACnC,CAAC;IACDC,eAAeA,CAAA,EAAG;MAChB,IAAIC,SAAQ,GAAI,IAAI,CAACH,eAAe;MACpCI,MAAM,CAACC,OAAO,CAACF,SAAS,CAACG,OAAO,CAACC,cAAc,CAAC,CAACC,OAAO,CAAEC,GAAG,IAAI;QAC/D,IAAI,IAAI,CAACC,iBAAiB,CAACC,QAAQ,CAACF,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;UAC3CA,GAAG,CAAC,CAAC,CAAC,CAACG,KAAI,GAAI,SAAS;QAC1B;QACA,OAAOH,GAAG;MACZ,CAAC,CAAC;MACF,OAAON,SAAS;IAClB,CAAC;IACDO,iBAAiBA,CAAA,EAAG;MAClB;MACA,OAAO,IAAI,CAACnB,UAAS,CAClBsB,GAAG,CAAEC,KAAK;QAAA,IAAAC,qBAAA;QAAA,OAAKD,KAAK,aAALA,KAAK,gBAAAC,qBAAA,GAALD,KAAK,CAAEE,cAAc,cAAAD,qBAAA,uBAArBA,qBAAA,CAAuBE,EAAE;MAAA,GACxCC,MAAM,CAAED,EAAE,IAAKA,EAAC,KAAM,IAAG,IAAKA,EAAC,KAAME,SAAS,CAAC;IACpD;EACH,CAAC;EACAC,OAAOA,CAAA,EAAG;IAAA,IAAAC,qBAAA;IACT,KAAAA,qBAAA,GAAI,IAAI,CAACrB,eAAe,cAAAqB,qBAAA,eAApBA,qBAAA,CAAsBC,IAAI,EAAE;MAC7B,IAAI,CAACpB,eAAe,CAACoB,IAAI,CAAC,CAAC;IAC9B;EACD,CAAC;EACDC,OAAO,EAAE;IACPC,iBAAiBA,CAACC,KAAK,EAAE;MACvB;MACA,MAAMC,QAAO,GAAID,KAAK,CAACE,MAAM,CAACC,OAAO,CAACC,KAAI,IAAK,IAAI;MACnD,IAAIH,QAAQ,EAAE;QAAA,IAAAI,qBAAA;QACZ,MAAMC,UAAS,GAAI,EAAAD,qBAAA,OAAI,CAAClC,OAAO,CAACW,cAAc,CAACmB,QAAQ,CAAC,cAAAI,qBAAA,uBAArCA,qBAAA,CAAuCzC,IAAG,KAAK,EAAE;QACpE,IAAI,CAAC2C,KAAK,CAAC,gBAAgB,EAAED,UAAU,CAAC;MAC1C;IACF;EACF;AACF,CAAC","ignoreList":[]}]}